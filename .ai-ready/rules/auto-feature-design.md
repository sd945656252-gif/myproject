# Auto Feature Design Rule

当用户提到需求相关的任务时，自动调用 `/feature-design` skill 协助用户生成或更新需求文档和技术设计文档。

## 触发条件

当用户的任务涉及以下场景时，需要调用 feature-design skill：

1. **新增需求**
   - 用户提到 "新增需求"、"添加需求"、"新建需求"、"创建需求文档"
   - 用户描述新功能的想法，需要形成规范的需求文档
   - 需要将功能想法转化为可实施的需求规格

2. **更新需求**
   - 用户提到 "更新需求"、"修改需求"、"完善需求"、"调整需求"
   - 现有需求需要补充、修正或优化
   - 需要根据反馈迭代需求文档

3. **需求分析**
   - 用户提到 "分析需求"、"编写需求"、"梳理需求"
   - 需要将模糊的功能描述细化为具体的、可测试的需求
   - 需要使用 EARS 模式规范化需求表述

4. **技术设计**
   - 用户提到 "设计文档"、"技术方案"、"架构设计"
   - 需求已明确，需要生成对应的技术设计文档
   - 需要为需求规划具体的实现方案

## 使用方法

当检测到上述触发条件时，调用 skill：

```
/feature-design
```

或者如果用户已经提供了功能描述，可以直接传递参数：

```
/feature-design "用户描述的功能想法"
```

该 skill 会自动执行以下流程：
1. 收集项目上下文和相关文档
2. 使用 EARS 模式生成需求文档
3. 通过迭代问答完善需求
4. 生成技术设计文档
5. 将文档保存到 `.monkeycode/specs/{FEATURE_NAME}/` 目录

## 输出文件

执行后会在 `.monkeycode/specs/{FEATURE_NAME}/` 目录下生成：
- `requirements.md` - 符合 EARS 规范的需求文档
- `design.md` - 技术设计规格说明书

## 注意事项

- 优先使用 feature-design skill 处理需求相关任务，确保需求文档的规范性和完整性
- 如果用户的描述比较模糊，skill 会通过提问来澄清细节（每轮最多 3 个问题）
- 所有生成的需求必须符合 EARS 模式和 INCOSE 语义质量规则
- 需求和设计文档生成后，会自动提交到 git 仓库
